"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[387],{6633:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(7314),r=a(3698),s=a(2938),d=a(3449),c=a(4679),o=a(9991),i=a(1034),u=a(7112),l=function(){var e=this,t=e._self._c;return t(d.A,[t(r.A,[t(s.ri,[e._v(" Attendance Overview "),t(i.A),t(u.A,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(c.A,{attrs:{headers:e.headers,items:e.attendanceItems,search:e.search,loading:e.loading},scopedSlots:e._u([{key:"no-data",fn:function(){return[e._v(" No attendance data available ")]},proxy:!0}])})],1),t(o.A,{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(r.A,[t(s.ri,[e._v("Students Attendance")]),t(s.OQ,[t(c.A,{attrs:{headers:e.studentHeaders,items:e.studentsAttendance,loading:e.loadingStudents},scopedSlots:e._u([{key:"no-data",fn:function(){return[e._v(" No student data available ")]},proxy:!0}])})],1),t(s.SL,[t(i.A),t(n.A,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")])],1)],1)],1)],1)},h=[],m=a(1250),f=a(7114),g=a.n(f),v={data:()=>({search:"",loading:!0,loadingStudents:!1,dialog:!1,headers:[{text:"Date",value:"attendanceDate"},{text:"Day of Week",value:"dayOfWeek"},{text:"Course Name",value:"courseName"},{text:"Start Time",value:"startTime"},{text:"End Time",value:"endTime"},{text:"Teacher Name",value:"teacherName"},{text:"Number of Students",value:"numberOfStudents"}],studentHeaders:[{text:"Student Name",value:"studentName"},{text:"Remarks",value:"remarks"}],attendanceItems:[],studentsAttendance:[]}),created(){this.fetchAttendanceData()},methods:{async fetchAttendanceData(){this.loading=!0;try{const e=await m.A.get(`${g().url}/attendance/`);e.data&&Array.isArray(e.data)?this.attendanceItems=e.data.map((e=>({attendanceDate:new Date(e.attendanceDate).toLocaleDateString(),dayOfWeek:e.dayOfWeek,courseName:e.courseName,startTime:e.startTime,endTime:e.endTime,teacherName:e.teacherName,numberOfStudents:e.numberOfStudents}))):(console.error("Unexpected response structure:",e.data),this.showSnackbar("Error fetching attendance data: Unexpected data structure","error"))}catch(e){console.error("Error fetching attendance data:",e),this.showSnackbar("Error fetching attendance data","error")}finally{this.loading=!1}},async viewStudents(e){this.loadingStudents=!0,this.dialog=!0;try{const t=await m.A.get(`${g().url}/students/attendance/overview/attendance/${e._id}`);console.log(t),t.data&&Array.isArray(t.data)?this.studentsAttendance=t.data:(console.error("Unexpected response structure:",t.data),this.showSnackbar("Error fetching student data: Unexpected data structure","error"))}catch(t){console.error("Error fetching student data:",t),this.showSnackbar("Error fetching student data","error")}finally{this.loadingStudents=!1}},showSnackbar(e,t){console.log(e,t)}}},A=v,S=a(1656),k=(0,S.A)(A,l,h,!1,null,null,null),x=k.exports}}]);
//# sourceMappingURL=387.d15735a7.js.map