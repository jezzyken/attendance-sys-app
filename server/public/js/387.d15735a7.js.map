{"version":3,"file":"js/387.d15735a7.js","mappings":"0OAA6RA,W,IAAYC,EAAAA,K,EAAyBD,EAAIE,MAAM,G,OAAK,kE,MAACC,CAAmB,4BAAI,MAAO,SAAgBC,cAAM,GAAC,eAAcC,I,MAAoC,CAAoB,QAAUL,OAAY,qBAACM,EAAAA,OAAgBC,CAAKC,EAAcC,WAAG,aAA6D,U,MAAM,CAAO,kBAAI,MAAO,kBAAYL,OAAM,SAAC,QAAW,EAAC,SAASM,YAAM,OAACC,IAAK,UAAcV,GAAAA,WAAyBD,MAAIY,CAAAA,EAAM,GAACC,kCAAG,EAAEV,OAAAA,QAAuBW,GAAG,MAAa,CAAqFV,MAAM,CAAC,YAAUJ,S,MAAkD,CAA8B,eAACM,SAAW,SAAS,GAACE,EAAI,OAAS,CAACC,E,WAAsBT,W,CAAwCe,EAAAA,EAAAA,EAAM,sDAAI,MAAE,CAAI,QAAO,iBAA6CX,MAAM,qBAAC,QAAQ,mBAAyB,YAAC,OAAG,IAAC,UAAC,cAAyBJ,MAAIY,CAAAA,EAAM,GAAG,+BAAK,EAAC,eACtqC,yBACGI,MAAAA,CAEJ,MAAe,gB,kHCsDf,GACAC,KAAAA,KAAA,CACAf,OAAA,GACAgB,SAAA,EACAC,iBAAA,EACAP,QAAA,EACAP,QAAA,CACA,CAAAe,KAAA,OAAAT,MAAA,kBACA,CAAAS,KAAA,cAAAT,MAAA,aACA,CAAAS,KAAA,cAAAT,MAAA,cACA,CAAAS,KAAA,aAAAT,MAAA,aACA,CAAAS,KAAA,WAAAT,MAAA,WACA,CAAAS,KAAA,eAAAT,MAAA,eACA,CAAAS,KAAA,qBAAAT,MAAA,qBAGAU,eAAA,CACA,CAAAD,KAAA,eAAAT,MAAA,eACA,CAAAS,KAAA,UAAAT,MAAA,YAEAW,gBAAA,GACAC,mBAAA,KAGAC,OAAAA,GACA,KAAAC,qBACA,EAEAC,QAAA,CACA,yBAAAD,GACA,KAAAP,SAAA,EACA,IACA,MAAAS,QAAAC,EAAAA,EAAAC,IAAA,GAAAC,IAAAA,mBACAH,EAAAV,MAAAc,MAAAC,QAAAL,EAAAV,MACA,KAAAK,gBAAAK,EAAAV,KAAAgB,KAAAC,IAAA,CACAC,eAAA,IAAAC,KAAAF,EAAAC,gBAAAE,qBACAC,UAAAJ,EAAAI,UACAC,WAAAL,EAAAK,WACAC,UAAAN,EAAAM,UACAC,QAAAP,EAAAO,QACAC,YAAAR,EAAAQ,YACAC,iBAAAT,EAAAS,sBAGAC,QAAAC,MAAA,iCAAAlB,EAAAV,MACA,KAAA6B,aACA,4DACA,SAGA,OAAAD,GACAD,QAAAC,MAAA,kCAAAA,GACA,KAAAC,aAAA,yCACA,SACA,KAAA5B,SAAA,CACA,CACA,EAEA,kBAAA6B,CAAAb,GACA,KAAAf,iBAAA,EACA,KAAAP,QAAA,EACA,IACA,MAAAe,QAAAC,EAAAA,EAAAC,IAAA,GAAAC,IAAAA,+CAAAI,EAAAc,OAEAJ,QAAAK,IAAAtB,GACAA,EAAAV,MAAAc,MAAAC,QAAAL,EAAAV,MACA,KAAAM,mBAAAI,EAAAV,MAEA2B,QAAAC,MAAA,iCAAAlB,EAAAV,MACA,KAAA6B,aAAA,kEAEA,OAAAD,GACAD,QAAAC,MAAA,+BAAAA,GACA,KAAAC,aAAA,sCACA,SACA,KAAA3B,iBAAA,CACA,CACA,EAEA2B,YAAAA,CAAA1B,EAAA8B,GACAN,QAAAK,IAAA7B,EAAA8B,EACA,IC3IsQ,I,UCOlQC,GAAY,OACd,EACAC,EACApC,GACA,EACA,KACA,KACA,MAIF,EAAemC,EAAiB,O","sources":["webpack://vue2/./src/views/attendance/AttendanceView.vue","webpack://vue2/src/views/attendance/AttendanceView.vue","webpack://vue2/./src/views/attendance/AttendanceView.vue?d38d","webpack://vue2/./src/views/attendance/AttendanceView.vue?1640"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-card',[_c('v-card-title',[_vm._v(\" Attendance Overview \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.attendanceItems,\"search\":_vm.search,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\" No attendance data available \")]},proxy:true}])})],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Students Attendance\")]),_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.studentHeaders,\"items\":_vm.studentsAttendance,\"loading\":_vm.loadingStudents},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\" No student data available \")]},proxy:true}])})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-card>\n      <v-card-title>\n        Attendance Overview\n        <v-spacer></v-spacer>\n        <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"Search\"\n          single-line\n          hide-details\n        ></v-text-field>\n      </v-card-title>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"attendanceItems\"\n        :search=\"search\"\n        :loading=\"loading\"\n      >\n        <!-- <template v-slot:[`item.actions`]=\"{ item }\">\n          <v-btn small color=\"primary\" @click=\"viewStudents(item)\">\n            View Students\n          </v-btn>\n        </template> -->\n        <template v-slot:no-data>\n          No attendance data available\n        </template>\n      </v-data-table>\n    </v-card>\n\n    <v-dialog v-model=\"dialog\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>Students Attendance</v-card-title>\n        <v-card-text>\n          <v-data-table\n            :headers=\"studentHeaders\"\n            :items=\"studentsAttendance\"\n            :loading=\"loadingStudents\"\n          >\n            <template v-slot:no-data>\n              No student data available\n            </template>\n          </v-data-table>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">Close</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport config from \"@/config/index.js\";\n\nexport default {\n  data: () => ({\n    search: '',\n    loading: true,\n    loadingStudents: false,\n    dialog: false,\n    headers: [\n      { text: 'Date', value: 'attendanceDate' },\n      { text: 'Day of Week', value: 'dayOfWeek' },\n      { text: 'Course Name', value: 'courseName' },\n      { text: 'Start Time', value: 'startTime' },\n      { text: 'End Time', value: 'endTime' },\n      { text: 'Teacher Name', value: 'teacherName' },\n      { text: 'Number of Students', value: 'numberOfStudents' },\n      // { text: 'Actions', value: 'actions', sortable: false }\n    ],\n    studentHeaders: [\n      { text: 'Student Name', value: 'studentName' },\n      { text: 'Remarks', value: 'remarks' }\n    ],\n    attendanceItems: [],\n    studentsAttendance: []\n  }),\n\n  created() {\n    this.fetchAttendanceData();\n  },\n\n  methods: {\n    async fetchAttendanceData() {\n      this.loading = true;\n      try {\n        const response = await axios.get(`${config.url}/attendance/`);\n        if (response.data && Array.isArray(response.data)) {\n          this.attendanceItems = response.data.map((item) => ({\n            attendanceDate: new Date(item.attendanceDate).toLocaleDateString(),\n            dayOfWeek: item.dayOfWeek,\n            courseName: item.courseName,\n            startTime: item.startTime,\n            endTime: item.endTime,\n            teacherName: item.teacherName,\n            numberOfStudents: item.numberOfStudents,\n          }));\n        } else {\n          console.error(\"Unexpected response structure:\", response.data);\n          this.showSnackbar(\n            \"Error fetching attendance data: Unexpected data structure\",\n            \"error\"\n          );\n        }\n      } catch (error) {\n        console.error(\"Error fetching attendance data:\", error);\n        this.showSnackbar(\"Error fetching attendance data\", \"error\");\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async viewStudents(item) {\n      this.loadingStudents = true;\n      this.dialog = true;\n      try {\n        const response = await axios.get(`${config.url}/students/attendance/overview/attendance/${item._id}`);\n\n        console.log(response)\n        if (response.data && Array.isArray(response.data)) {\n          this.studentsAttendance = response.data;\n        } else {\n          console.error('Unexpected response structure:', response.data);\n          this.showSnackbar('Error fetching student data: Unexpected data structure', 'error');\n        }\n      } catch (error) {\n        console.error('Error fetching student data:', error);\n        this.showSnackbar('Error fetching student data', 'error');\n      } finally {\n        this.loadingStudents = false;\n      }\n    },\n\n    showSnackbar(text, color) {\n      console.log(text, color);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AttendanceView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AttendanceView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AttendanceView.vue?vue&type=template&id=0dd14a9c\"\nimport script from \"./AttendanceView.vue?vue&type=script&lang=js\"\nexport * from \"./AttendanceView.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["_vm","callback","search","expression","attrs","headers","scopedSlots","_u","key","fn","model","value","dialog","$$v","_c","proxy","staticRenderFns","data","loading","loadingStudents","text","studentHeaders","attendanceItems","studentsAttendance","created","fetchAttendanceData","methods","response","axios","get","config","Array","isArray","map","item","attendanceDate","Date","toLocaleDateString","dayOfWeek","courseName","startTime","endTime","teacherName","numberOfStudents","console","error","showSnackbar","viewStudents","_id","log","color","component","render"],"sourceRoot":""}